<!-- extend from base layout -->
{% extends "base.html" %}
{% block content %}

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71696336-4', 'auto');
  ga('send', 'pageview');

</script>

<style>
	body {background-color:#fdfdfd}
</style>

<h1 style="color:#3d475c;font-size:85px;font-weight:bold;text-align:center;margin-left:10px">Zoned</h1>	
<div style="color:#3d475c;font-size:20px;font-weight:normal;text-align:center;margin-left:14px">StayHomeHack entry of <a href="https://www.code.sydney" target="_blank">Code.Sydney</a></div>	  
	  <br/>
	  <br/>
      <form action = "" method="POST" name="mainform">
           <fieldset>
            <br>
            {{ form.hidden_tag() }}
            
            <div style = "font-size:30px;font-weight:normal;text-align:center;margin-left:10px">
			  <body>			  
   			    <h2 style="color:#3d475c;font-size:40px;text-align:center">Home Address</h2>			  				
				<div>
				<form>
                 {{ form.HomeAddress }}					 				 
				 {{ form.HomeLat }}					 				 
				 {{ form.HomeLng }}					 				 
				</form>
				</div>

				{% block scripts %}								
				{{super()}}
                <script src="http://maps.googleapis.com/maps/api/js?key=999999&sensor=false&amp;libraries=places"></script>                
				<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
				<script type="text/javascript" src="{{ url_for('static', filename='jquery.geocomplete.js') }}"></script>
				<script type="text/javascript" src="{{ url_for('static', filename='logger.js') }}"></script>
			   
				<script>
				  $(function(){
					
					$("#geocomplete").geocomplete({country: 'AUS'})
					  .bind("geocode:result", function(event, result){
						$.log("Result: " + result.formatted_address);						
					    $("#home_lat").val(result.geometry.location.lat());
                        $("#home_lng").val(result.geometry.location.lng());
					  })
					  .bind("geocode:error", function(event, status){
						$.log("ERROR: " + status);
					  })
					  .bind("geocode:multiple", function(event, results){
						$.log("Multiple: " + results.length + " results found");
					  });    			  
				  });
		
				</script>
				{% endblock %}				
			  </body>    
			  <br> 
			  {{ form.Submit1 }}
			  
            </div>          
      </form>
{% endblock %}